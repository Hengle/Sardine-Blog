(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(D){function E(F){return/^\s*(.*?)\s*$/.exec(F)[1]}var C=[" ","\\+","\\-","\\(","\\)","\\*","/",":","\\?","\\<","\\>"," ","\\."];var A=new RegExp(C.join("|"),"g");function B(H,I){var F=-1,K=1;var J=H.split(A);for(var M=0;M<J.length;M++){for(var G=1;G<=J[M].length;G++){if(K==I){F=M}K++}K++}var L=["",""];if(I==0){L[1]=J[0];L[0]=null}else{L[1]=J[F];L[0]=J[F-1]}return L}D.defineMode("swift",function(){var H=["var","let","class","deinit","enum","extension","func","import","init","let","protocol","static","struct","subscript","typealias","var","as","dynamicType","is","new","super","self","Self","Type","__COLUMN__","__FILE__","__FUNCTION__","__LINE__","break","case","continue","default","do","else","fallthrough","if","in","for","return","switch","where","while","associativity","didSet","get","infix","inout","left","mutating","none","nonmutating","operator","override","postfix","precedence","prefix","right","set","unowned","unowned(safe)","unowned(unsafe)","weak","willSet"];var K=["Infinity","NaN","undefined","null","true","false","on","off","yes","no","nil","null","this","super"];var I=["String","bool","int","string","double","Double","Int","Float","float","public","private","extension"];var J=["0","1","2","3","4","5","6","7","8","9"];var F=["+","-","/","*","%","=","|","&","<",">"];var N=[";",",",".","(",")","{","}","[","]"];var G=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/;var L=/^[_A-Za-z$][_A-Za-z$0-9]*/;var M=/^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/;var O=/^(\/{3}|\/)/;return{startState:function(){return{prev:false,string:false,escape:false,inner:false,comment:false,num_left:0,num_right:0,doubleString:false,singleString:false}},token:function(U,S){if(U.eatSpace()){return null}var R=U.next();if(S.string){if(S.escape){S.escape=false;return"string"}else{if((R=='"'&&(S.doubleString&&!S.singleString)||(R=="'"&&(!S.doubleString&&S.singleString)))&&!S.escape){S.string=false;S.doubleString=false;S.singleString=false;return"string"}else{if(R=="\\"&&U.peek()=="("){S.inner=true;S.string=false;return"keyword"}else{if(R=="\\"&&U.peek()!="("){S.escape=true;S.string=true;return"string"}else{return"string"}}}}}else{if(S.comment){if(R=="*"&&U.peek()=="/"){S.prev="*";return"comment"}else{if(R=="/"&&S.prev=="*"){S.prev=false;S.comment=false;return"comment"}}return"comment"}else{if(R=="/"){if(U.peek()=="/"){U.skipToEnd();return"comment"}if(U.peek()=="*"){S.comment=true;return"comment"}}if(R=="("&&S.inner){S.num_left++;return null}if(R==")"&&S.inner){S.num_right++;if(S.num_left==S.num_right){S.inner=false;S.string=true}return null}var T=B(U.string,U.pos);var P=T[1];var Q=T[0];if(F.indexOf(R+"")>-1){return"operator"}if(N.indexOf(R)>-1){return"punctuation"}if(typeof P!="undefined"){P=E(P);if(typeof Q!="undefined"){Q=E(Q)}if(P.charAt(0)=="#"){return null}if(I.indexOf(P)>-1){return"def"}if(K.indexOf(P)>-1){return"atom"}if(J.indexOf(P)>-1){return"number"}if((J.indexOf(P.charAt(0)+"")>-1||F.indexOf(P.charAt(0)+"")>-1)&&J.indexOf(R)>-1){return"number"}if(H.indexOf(P)>-1||H.indexOf(P.split(A)[0])>-1){return"keyword"}if(H.indexOf(Q)>-1){return"def"}}if(R=='"'&&!S.doubleString){S.string=true;S.doubleString=true;return"string"}if(R=="'"&&!S.singleString){S.string=true;S.singleString=true;return"string"}if(R=="("&&S.inner){S.num_left++}if(R==")"&&S.inner){S.num_right++;if(S.num_left==S.num_right){S.inner=false;S.string=true}return null}if(U.match(/^-?[0-9\.]/,false)){if(U.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)||U.match(/^-?\d+\.\d*/)||U.match(/^-?\.\d+/)){if(U.peek()=="."){U.backUp(1)}return"number"}if(U.match(/^-?0x[0-9a-f]+/i)||U.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)||U.match(/^-?0(?![\dx])/i)){return"number"}}if(U.match(O)){if(U.current()!="/"||U.match(/^.*\//,false)){return"string"}else{U.backUp(1)}}if(U.match(G)){return"punctuation"}if(U.match(L)){return"variable"}if(U.match(M)){return"property"}return"variable"}}}}});D.defineMIME("text/x-swift","swift")});