(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(A){A.defineMode("javascript",function(AD,n){var m=AD.indentUnit;var Aj=n.statementIndent;var j=n.jsonld;var F=n.json||j;var e=n.typescript;var y=n.wordCharacters||/[\w$\xa1-\uffff]/;var Ao=function(){function AO(AS){return{type:AS,style:"keyword"}}var AN=AO("keyword a"),AK=AO("keyword b"),AL=AO("keyword c");var AJ=AO("operator"),AI={type:"atom",style:"atom"};var AR={"if":AO("if"),"while":AN,"with":AN,"else":AK,"do":AK,"try":AK,"finally":AK,"return":AL,"break":AL,"continue":AL,"new":AL,"delete":AL,"throw":AL,"debugger":AL,"var":AO("var"),"const":AO("var"),"let":AO("var"),"function":AO("function"),"catch":AO("catch"),"for":AO("for"),"switch":AO("switch"),"case":AO("case"),"default":AO("default"),"in":AJ,"typeof":AJ,"instanceof":AJ,"true":AI,"false":AI,"null":AI,"undefined":AI,"NaN":AI,"Infinity":AI,"this":AO("this"),"module":AO("module"),"class":AO("class"),"super":AO("atom"),"yield":AL,"export":AO("export"),"import":AO("import"),"extends":AL};if(e){var AQ={type:"variable",style:"variable-3"};var AM={"interface":AO("interface"),"extends":AO("extends"),"constructor":AO("constructor"),"public":AO("public"),"private":AO("private"),"protected":AO("protected"),"static":AO("static"),"string":AQ,"number":AQ,"bool":AQ,"any":AQ};for(var AP in AM){AR[AP]=AM[AP]}}return AR}();var g=/[+\-*&%=<>!?|~^]/;var v=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function Ag(AL){var AJ=false,AI,AK=false;while((AI=AL.next())!=null){if(!AJ){if(AI=="/"&&!AK){return}if(AI=="["){AK=true}else{if(AK&&AI=="]"){AK=false}}}AJ=!AJ&&AI=="\\"}}var i,AA;function k(AK,AJ,AI){i=AK;AA=AI;return AJ}function Aa(AM,AK){var AJ=AM.next();if(AJ=='"'||AJ=="'"){AK.tokenize=D(AJ);return AK.tokenize(AM,AK)}else{if(AJ=="."&&AM.match(/^\d+(?:[eE][+\-]?\d+)?/)){return k("number","number")}else{if(AJ=="."&&AM.match("..")){return k("spread","meta")}else{if(/[\[\]{}\(\),;\:\.]/.test(AJ)){return k(AJ)}else{if(AJ=="="&&AM.eat(">")){return k("=>","operator")}else{if(AJ=="0"&&AM.eat(/x/i)){AM.eatWhile(/[\da-f]/i);return k("number","number")}else{if(/\d/.test(AJ)){AM.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return k("number","number")}else{if(AJ=="/"){if(AM.eat("*")){AK.tokenize=AH;return AH(AM,AK)}else{if(AM.eat("/")){AM.skipToEnd();return k("comment","comment")}else{if(AK.lastType=="operator"||AK.lastType=="keyword c"||AK.lastType=="sof"||/^[\[{}\(,;:]$/.test(AK.lastType)){Ag(AM);AM.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return k("regexp","string-2")}else{AM.eatWhile(g);return k("operator","operator",AM.current())}}}}else{if(AJ=="`"){AK.tokenize=t;return t(AM,AK)}else{if(AJ=="#"){AM.skipToEnd();return k("error","error")}else{if(g.test(AJ)){AM.eatWhile(g);return k("operator","operator",AM.current())}else{if(y.test(AJ)){AM.eatWhile(y);var AL=AM.current(),AI=Ao.propertyIsEnumerable(AL)&&Ao[AL];return(AI&&AK.lastType!=".")?k(AI.type,AI.style,AL):k("variable","variable",AL)}}}}}}}}}}}}}function D(AI){return function(AM,AK){var AJ=false,AL;if(j&&AM.peek()=="@"&&AM.match(v)){AK.tokenize=Aa;return k("jsonld-keyword","meta")}while((AL=AM.next())!=null){if(AL==AI&&!AJ){break}AJ=!AJ&&AL=="\\"}if(!AJ){AK.tokenize=Aa}return k("string","string")}}function AH(AL,AJ){var AK=false,AI;while(AI=AL.next()){if(AI=="/"&&AK){AJ.tokenize=Aa;break}AK=(AI=="*")}return k("comment","comment")}function t(AL,AJ){var AI=false,AK;while((AK=AL.next())!=null){if(!AI&&(AK=="`"||AK=="$"&&AL.eat("{"))){AJ.tokenize=Aa;break}AI=!AI&&AK=="\\"}return k("quasi","string-2",AL.current())}var Ar="([{}])";function Au(AN,AM){if(AM.fatArrowAt){AM.fatArrowAt=null}var AP=AN.string.indexOf("=>",AN.start);if(AP<0){return}var AI=0,AO=false;for(var AJ=AP-1;AJ>=0;--AJ){var AL=AN.string.charAt(AJ);var AK=Ar.indexOf(AL);if(AK>=0&&AK<3){if(!AI){++AJ;break}if(--AI==0){break}}else{if(AK>=3&&AK<6){++AI}else{if(y.test(AL)){AO=true}else{if(/["'\/]/.test(AL)){return}else{if(AO&&!AI){++AJ;break}}}}}}if(AO&&!AI){AM.fatArrowAt=AJ}}var z={"atom":true,"number":true,"variable":true,"string":true,"regexp":true,"this":true,"jsonld-keyword":true};function Ay(AN,AM,AI,AK,AJ,AL){this.indented=AN;this.column=AM;this.type=AI;this.prev=AJ;this.info=AL;if(AK!=null){this.align=AK}}function Ak(AL,AI){for(var AJ=AL.localVars;AJ;AJ=AJ.next){if(AJ.name==AI){return true}}for(var AK=AL.context;AK;AK=AK.prev){for(var AJ=AK.vars;AJ;AJ=AJ.next){if(AJ.name==AI){return true}}}}function T(AO,AL,AI,AM,AK){var AJ=AO.cc;V.state=AO;V.stream=AK;V.marked=null,V.cc=AJ;V.style=AL;if(!AO.lexical.hasOwnProperty("align")){AO.lexical.align=true}while(true){var AN=AJ.length?AJ.pop():F?l:Z;if(AN(AI,AM)){while(AJ.length&&AJ[AJ.length-1].lex){AJ.pop()()}if(V.marked){return V.marked}if(AI=="variable"&&Ak(AO,AM)){return"variable-2"}return AL}}}var V={state:null,column:null,marked:null,cc:null};function At(){for(var AI=arguments.length-1;AI>=0;AI--){V.cc.push(arguments[AI])}}function L(){At.apply(null,arguments);return true}function P(AI){function AJ(AM){for(var AL=AM;AL;AL=AL.next){if(AL.name==AI){return true}}return false}var AK=V.state;if(AK.context){V.marked="def";if(AJ(AK.localVars)){return}AK.localVars={name:AI,next:AK.localVars}}else{if(AJ(AK.globalVars)){return}if(n.globalVars){AK.globalVars={name:AI,next:AK.globalVars}}}}var I={name:"this",next:{name:"arguments"}};function M(){V.state.context={prev:V.state.context,vars:V.state.localVars};V.state.localVars=I}function a(){V.state.localVars=V.state.context.vars;V.state.context=V.state.context.prev}function H(AI,AK){var AJ=function(){var AN=V.state,AM=AN.indented;if(AN.lexical.type=="stat"){AM=AN.lexical.indented}else{for(var AL=AN.lexical;AL&&AL.type==")"&&AL.align;AL=AL.prev){AM=AL.indented}}AN.lexical=new Ay(AM,V.stream.column(),AI,null,AN.lexical,AK)};AJ.lex=true;return AJ}function Ah(){var AI=V.state;if(AI.lexical.prev){if(AI.lexical.type==")"){AI.indented=AI.lexical.indented}AI.lexical=AI.lexical.prev}}Ah.lex=true;function Ab(AJ){function AI(AK){if(AK==AJ){return L()}else{if(AJ==";"){return At()}else{return L(AI)}}}return AI}function Z(AI,AJ){if(AI=="var"){return L(H("vardef",AJ.length),s,Ab(";"),Ah)}if(AI=="keyword a"){return L(H("form"),l,Z,Ah)}if(AI=="keyword b"){return L(H("form"),Z,Ah)}if(AI=="{"){return L(H("}"),C,Ah)}if(AI==";"){return L()}if(AI=="if"){if(V.state.lexical.info=="else"&&V.state.cc[V.state.cc.length-1]==Ah){V.state.cc.pop()()}return L(H("form"),l,Z,Ah,Ap)}if(AI=="function"){return L(K)}if(AI=="for"){return L(H("form"),u,Z,Ah)}if(AI=="variable"){return L(H("stat"),N)}if(AI=="switch"){return L(H("form"),l,H("}","switch"),Ab("{"),C,Ah,Ah)}if(AI=="case"){return L(l,Ab(":"))}if(AI=="default"){return L(Ab(":"))}if(AI=="catch"){return L(H("form"),M,Ab("("),r,Ab(")"),Z,Ah,a)}if(AI=="module"){return L(H("form"),M,Am,a,Ah)}if(AI=="class"){return L(H("form"),J,Ah)}if(AI=="export"){return L(H("form"),Ai,Ah)}if(AI=="import"){return L(H("form"),Ax,Ah)}return At(H("stat"),l,Ab(";"),Ah)}function l(AI){return x(AI,false)}function Aq(AI){return x(AI,true)}function x(AI,AL){if(V.state.fatArrowAt==V.stream.start){var AJ=AL?R:AG;if(AI=="("){return L(M,H(")"),AF(AC,")"),Ah,Ab("=>"),AJ,a)}else{if(AI=="variable"){return At(M,AC,Ab("=>"),AJ,a)}}}var AK=AL?c:Ae;if(z.hasOwnProperty(AI)){return L(AK)}if(AI=="function"){return L(K,AK)}if(AI=="keyword c"){return L(AL?q:Al)}if(AI=="("){return L(H(")"),Al,Q,Ab(")"),Ah,AK)}if(AI=="operator"||AI=="spread"){return L(AL?Aq:l)}if(AI=="["){return L(H("]"),S,Ah,AK)}if(AI=="{"){return o(Az,"}",null,AK)}if(AI=="quasi"){return At(Y,AK)}return L()}function Al(AI){if(AI.match(/[;\}\)\],]/)){return At()}return At(l)}function q(AI){if(AI.match(/[;\}\)\],]/)){return At()}return At(Aq)}function Ae(AI,AJ){if(AI==","){return L(l)}return c(AI,AJ,false)}function c(AI,AL,AM){var AK=AM==false?Ae:c;var AJ=AM==false?l:Aq;if(AI=="=>"){return L(M,AM?R:AG,a)}if(AI=="operator"){if(/\+\+|--/.test(AL)){return L(AK)}if(AL=="?"){return L(l,Ab(":"),AJ)}return L(AJ)}if(AI=="quasi"){return At(Y,AK)}if(AI==";"){return}if(AI=="("){return o(Aq,")","call",AK)}if(AI=="."){return L(w,AK)}if(AI=="["){return L(H("]"),Al,Ab("]"),Ah,AK)}}function Y(AI,AJ){if(AI!="quasi"){return At()}if(AJ.slice(AJ.length-2)!="${"){return L(Y)}return L(l,An)}function An(AI){if(AI=="}"){V.marked="string-2";V.state.tokenize=t;return L(Y)}}function AG(AI){Au(V.stream,V.state);return At(AI=="{"?Z:l)}function R(AI){Au(V.stream,V.state);return At(AI=="{"?Z:Aq)}function N(AI){if(AI==":"){return L(Ah,Z)}return At(Ae,Ab(";"),Ah)}function w(AI){if(AI=="variable"){V.marked="property";return L()}}function Az(AI,AJ){if(AI=="variable"||V.style=="keyword"){V.marked="property";if(AJ=="get"||AJ=="set"){return L(b)}return L(W)}else{if(AI=="number"||AI=="string"){V.marked=j?"property":(V.style+" property");return L(W)}else{if(AI=="jsonld-keyword"){return L(W)}else{if(AI=="["){return L(l,Ab("]"),W)}}}}}function b(AI){if(AI!="variable"){return At(W)}V.marked="property";return L(K)}function W(AI){if(AI==":"){return L(Aq)}if(AI=="("){return At(K)}}function AF(AK,AJ){function AI(AL){if(AL==","){var AM=V.state.lexical;if(AM.info=="call"){AM.pos=(AM.pos||0)+1}return L(AK,AI)}if(AL==AJ){return L()}return L(Ab(AJ))}return function(AL){if(AL==AJ){return L()}return At(AK,AI)}}function o(AK,AJ,AL){for(var AI=3;AI<arguments.length;AI++){V.cc.push(arguments[AI])}return L(H(AJ,AL),AF(AK,AJ),Ah)}function C(AI){if(AI=="}"){return L()}return At(Z,C)}function U(AI){if(e&&AI==":"){return L(Af)}}function Aw(AJ,AI){if(AI=="="){return L(Aq)}}function Af(AI){if(AI=="variable"){V.marked="variable-3";return L()}}function s(){return At(AC,U,d,AE)}function AC(AI,AJ){if(AI=="variable"){P(AJ);return L()}if(AI=="["){return o(AC,"]")}if(AI=="{"){return o(G,"}")}}function G(AI,AJ){if(AI=="variable"&&!V.stream.match(/^\s*:/,false)){P(AJ);return L(d)}if(AI=="variable"){V.marked="property"}return L(Ab(":"),AC,d)}function d(AI,AJ){if(AJ=="="){return L(Aq)}}function AE(AI){if(AI==","){return L(s)}}function Ap(AI,AJ){if(AI=="keyword b"&&AJ=="else"){return L(H("form","else"),Z,Ah)}}function u(AI){if(AI=="("){return L(H(")"),f,Ab(")"),Ah)}}function f(AI){if(AI=="var"){return L(s,Ab(";"),AB)}if(AI==";"){return L(AB)}if(AI=="variable"){return L(Ac)}return At(l,Ab(";"),AB)}function Ac(AI,AJ){if(AJ=="in"||AJ=="of"){V.marked="keyword";return L(l)}return L(Ae,AB)}function AB(AI,AJ){if(AI==";"){return L(Ad)}if(AJ=="in"||AJ=="of"){V.marked="keyword";return L(l)}return At(l,Ab(";"),Ad)}function Ad(AI){if(AI!=")"){L(l)}}function K(AI,AJ){if(AJ=="*"){V.marked="keyword";return L(K)}if(AI=="variable"){P(AJ);return L(K)}if(AI=="("){return L(M,H(")"),AF(r,")"),Ah,Z,a)}}function r(AI){if(AI=="spread"){return L(r)}return At(AC,U,Aw)}function J(AI,AJ){if(AI=="variable"){P(AJ);return L(O)}}function O(AI,AJ){if(AJ=="extends"){return L(l,O)}if(AI=="{"){return L(H("}"),As,Ah)}}function As(AI,AJ){if(AI=="variable"||V.style=="keyword"){if(AJ=="static"){V.marked="keyword";return L(As)}V.marked="property";if(AJ=="get"||AJ=="set"){return L(Av,K,As)}return L(K,As)}if(AJ=="*"){V.marked="keyword";return L(As)}if(AI==";"){return L(As)}if(AI=="}"){return L()}}function Av(AI){if(AI!="variable"){return At()}V.marked="property";return L()}function Am(AI,AJ){if(AI=="string"){return L(Z)}if(AI=="variable"){P(AJ);return L(p)}}function Ai(AI,AJ){if(AJ=="*"){V.marked="keyword";return L(p,Ab(";"))}if(AJ=="default"){V.marked="keyword";return L(l,Ab(";"))}return At(Z)}function Ax(AI){if(AI=="string"){return L()}return At(X,p)}function X(AI,AJ){if(AI=="{"){return o(X,"}")}if(AI=="variable"){P(AJ)}if(AJ=="*"){V.marked="keyword"}return L(B)}function B(AI,AJ){if(AJ=="as"){V.marked="keyword";return L(X)}}function p(AI,AJ){if(AJ=="from"){V.marked="keyword";return L(l)}}function S(AI){if(AI=="]"){return L()}return At(Aq,E)}function E(AI){if(AI=="for"){return At(Q,Ab("]"))}if(AI==","){return L(AF(q,"]"))}return At(AF(Aq,"]"))}function Q(AI){if(AI=="for"){return L(u,Q)}if(AI=="if"){return L(l,Q)}}function h(AJ,AI){return AJ.lastType=="operator"||AJ.lastType==","||g.test(AI.charAt(0))||/[,.]/.test(AI.charAt(0))}return{startState:function(AI){var AJ={tokenize:Aa,lastType:"sof",cc:[],lexical:new Ay((AI||0)-m,0,"block",false),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};if(n.globalVars&&typeof n.globalVars=="object"){AJ.globalVars=n.globalVars}return AJ},token:function(AK,AJ){if(AK.sol()){if(!AJ.lexical.hasOwnProperty("align")){AJ.lexical.align=false}AJ.indented=AK.indentation();Au(AK,AJ)}if(AJ.tokenize!=AH&&AK.eatSpace()){return null}var AI=AJ.tokenize(AK,AJ);if(i=="comment"){return AI}AJ.lastType=i=="operator"&&(AA=="++"||AA=="--")?"incdec":i;return T(AJ,AI,i,AA,AK)},indent:function(AK,AI){if(AK.tokenize==AH){return A.Pass}if(AK.tokenize!=Aa){return 0}var AN=AI&&AI.charAt(0),AP=AK.lexical;if(!/^\s*else\b/.test(AI)){for(var AM=AK.cc.length-1;AM>=0;--AM){var AO=AK.cc[AM];if(AO==Ah){AP=AP.prev}else{if(AO!=Ap){break}}}}if(AP.type=="stat"&&AN=="}"){AP=AP.prev}if(Aj&&AP.type==")"&&AP.prev.type=="stat"){AP=AP.prev}var AJ=AP.type,AL=AN==AJ;if(AJ=="vardef"){return AP.indented+(AK.lastType=="operator"||AK.lastType==","?AP.info+1:0)}else{if(AJ=="form"&&AN=="{"){return AP.indented}else{if(AJ=="form"){return AP.indented+m}else{if(AJ=="stat"){return AP.indented+(h(AK,AI)?Aj||m:0)}else{if(AP.info=="switch"&&!AL&&n.doubleIndentSwitch!=false){return AP.indented+(/^(?:case|default)\b/.test(AI)?m:2*m)}else{if(AP.align){return AP.column+(AL?0:1)}else{return AP.indented+(AL?0:m)}}}}}}},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:F?null:"/*",blockCommentEnd:F?null:"*/",lineComment:F?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:F?"json":"javascript",jsonldMode:j,jsonMode:F}});A.registerHelper("wordChars","javascript",/[\w$]/);A.defineMIME("text/javascript","javascript");A.defineMIME("text/ecmascript","javascript");A.defineMIME("application/javascript","javascript");A.defineMIME("application/x-javascript","javascript");A.defineMIME("application/ecmascript","javascript");A.defineMIME("application/json",{name:"javascript",json:true});A.defineMIME("application/x-json",{name:"javascript",json:true});A.defineMIME("application/ld+json",{name:"javascript",jsonld:true});A.defineMIME("text/typescript",{name:"javascript",typescript:true});A.defineMIME("application/typescript",{name:"javascript",typescript:true})});