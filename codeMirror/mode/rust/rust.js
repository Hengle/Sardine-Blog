(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(A){A.defineMode("rust",function(){var X=4,H=2;var K={"if":"if-style","while":"if-style","loop":"else-style","else":"else-style","do":"else-style","ret":"else-style","fail":"else-style","break":"atom","cont":"atom","const":"let","resource":"fn","let":"let","fn":"fn","for":"for","alt":"alt","iface":"iface","impl":"impl","type":"type","enum":"enum","mod":"mod","as":"op","true":"atom","false":"atom","assert":"op","check":"op","claim":"op","native":"ignore","unsafe":"ignore","import":"else-style","export":"else-style","copy":"op","log":"op","log_err":"op","use":"op","bind":"op","self":"atom","struct":"enum"};var i=function(){var Ae={"fn":"fn","block":"fn","obj":"obj"};var Ad="bool i8 i16 i32 i64 u8 u16 u32 u64 f32 f64 str char isize usize".split(" ");for(var r=0,Ac=Ad.length;r<Ac;++r){Ae[Ad[r]]="atom"}return Ae}();var j=/[+\-*&%=<>!?|\.@]/;var c,k;function p(r,Ac){c=r;return Ac}function o(Ae,Ad){var Ac=Ae.next();if(Ac=='"'){Ad.tokenize=m;return Ad.tokenize(Ae,Ad)}if(Ac=="'"){c="atom";if(Ae.eat("\\")){if(Ae.skipTo("'")){Ae.next();return"string"}else{return"error"}}else{Ae.next();return Ae.eat("'")?"string":"error"}}if(Ac=="/"){if(Ae.eat("/")){Ae.skipToEnd();return"comment"}if(Ae.eat("*")){Ad.tokenize=u(1);return Ad.tokenize(Ae,Ad)}}if(Ac=="#"){if(Ae.eat("[")){c="open-attr";return null}Ae.eatWhile(/\w/);return p("macro","meta")}if(Ac==":"&&Ae.match(":<")){return p("op",null)}if(Ac.match(/\d/)||(Ac=="."&&Ae.eat(/\d/))){var r=false;if(!Ae.match(/^x[\da-f]+/i)&&!Ae.match(/^b[01]+/)){Ae.eatWhile(/\d/);if(Ae.eat(".")){r=true;Ae.eatWhile(/\d/)}if(Ae.match(/^e[+\-]?\d+/i)){r=true}}if(r){Ae.match(/^f(?:32|64)/)}else{Ae.match(/^[ui](?:8|16|32|64)/)}return p("atom","number")}if(Ac.match(/[()\[\]{}:;,]/)){return p(Ac,null)}if(Ac=="-"&&Ae.eat(">")){return p("->",null)}if(Ac.match(j)){Ae.eatWhile(j);return p("op",null)}Ae.eatWhile(/\w/);k=Ae.current();if(Ae.match(/^::\w/)){Ae.backUp(1);return p("prefix","variable-2")}if(Ad.keywords.propertyIsEnumerable(k)){return p(Ad.keywords[k],k.match(/true|false/)?"atom":"keyword")}return p("name","variable")}function m(Ae,Ad){var Ac,r=false;while(Ac=Ae.next()){if(Ac=='"'&&!r){Ad.tokenize=o;return p("atom","string")}r=!r&&Ac=="\\"}return p("op","string")}function u(r){return function(Af,Ad){var Ac=null,Ae;while(Ae=Af.next()){if(Ae=="/"&&Ac=="*"){if(r==1){Ad.tokenize=o;break}else{Ad.tokenize=u(r-1);return Ad.tokenize(Af,Ad)}}if(Ae=="*"&&Ac=="/"){Ad.tokenize=u(r+1);return Ad.tokenize(Af,Ad)}Ac=Ae}return"comment"}}var v={state:null,stream:null,marked:null,cc:null};function E(){for(var r=arguments.length-1;r>=0;r--){v.cc.push(arguments[r])}}function w(){E.apply(null,arguments);return true}function s(r,Ad){var Ac=function(){var Ae=v.state;Ae.lexical={indented:Ae.indented,column:v.stream.column(),type:r,prev:Ae.lexical,info:Ad}};Ac.lex=true;return Ac}function N(){var r=v.state;if(r.lexical.prev){if(r.lexical.type==")"){r.indented=r.lexical.indented}r.lexical=r.lexical.prev}}function U(){v.state.keywords=i}function b(){v.state.keywords=K}N.lex=U.lex=b.lex=true;function D(r,Ac){function Ad(Ae){if(Ae==","){return w(r,Ad)}if(Ae==Ac){return w()}return w(Ad)}return function(Ae){if(Ae==Ac){return w()}return E(r,Ad)}}function O(Ac,r){return w(s("stat",r),Ac,N,M)}function M(r){if(r=="}"){return w()}if(r=="let"){return O(C,"let")}if(r=="fn"){return O(f)}if(r=="type"){return w(s("stat"),W,G,N,M)}if(r=="enum"){return O(y)}if(r=="mod"){return O(Y)}if(r=="iface"){return O(t)}if(r=="impl"){return O(F)}if(r=="open-attr"){return w(s("]"),D(Q,"]"),N)}if(r=="ignore"||r.match(/[\]\);,]/)){return w(M)}return E(s("stat"),Q,N,G,M)}function G(r){if(r==";"){return w()}return E()}function Q(r){if(r=="atom"||r=="name"){return w(J)}if(r=="{"){return w(s("}"),R,N)}if(r.match(/[\[\(]/)){return Ab(r,Q)}if(r.match(/[\]\)\};,]/)){return E()}if(r=="if-style"){return w(Q,Q)}if(r=="else-style"||r=="op"){return w(Q)}if(r=="for"){return w(d,Z,a,Q,Q)}if(r=="alt"){return w(Q,x)}if(r=="fn"){return w(f)}if(r=="macro"){return w(T)}return w()}function J(r){if(k=="."){return w(l)}if(k=="::<"){return w(S,J)}if(r=="op"||k==":"){return w(Q)}if(r=="("||r=="["){return Ab(r,Q)}return E()}function l(){if(k.match(/^\w+$/)){v.marked="variable";return w(J)}return E(Q)}function R(r){if(r=="op"){if(k=="|"){return w(P,N,s("}","block"),M)}if(k=="||"){return w(N,s("}","block"),M)}}if(k=="mutable"||(k.match(/^\w+$/)&&v.stream.peek()==":"&&!v.stream.match("::",false))){return E(z(Q))}return E(M)}function z(r){function Ac(Ad){if(k=="mutable"||k=="with"){v.marked="keyword";return w(Ac)}if(k.match(/^\w*$/)){v.marked="variable";return w(Ac)}if(Ad==":"){return w(r,Ac)}if(Ad=="}"){return w()}return w(Ac)}return Ac}function P(r){if(r=="name"){v.marked="def";return w(P)}if(r=="op"&&k=="|"){return w()}return w(P)}function C(r){if(r.match(/[\]\)\};]/)){return w()}if(k=="="){return w(Q,B)}if(r==","){return w(C)}return E(d,Z,C)}function B(r){if(r.match(/[\]\)\};,]/)){return E(C)}else{return E(Q,B)}}function Z(r){if(r==":"){return w(U,e,b)}return E()}function a(r){if(r=="name"&&k=="in"){v.marked="keyword";return w()}return E()}function f(r){if(k=="@"||k=="~"){v.marked="keyword";return w(f)}if(r=="name"){v.marked="def";return w(f)}if(k=="<"){return w(S,f)}if(r=="{"){return E(Q)}if(r=="("){return w(s(")"),D(V,")"),N,f)}if(r=="->"){return w(U,e,b,f)}if(r==";"){return w()}return w(f)}function W(r){if(r=="name"){v.marked="def";return w(W)}if(k=="<"){return w(S,W)}if(k=="="){return w(U,e,b)}return w(W)}function y(r){if(r=="name"){v.marked="def";return w(y)}if(k=="<"){return w(S,y)}if(k=="="){return w(U,e,b,G)}if(r=="{"){return w(s("}"),U,I,b,N)}return w(y)}function I(r){if(r=="}"){return w()}if(r=="("){return w(s(")"),D(e,")"),N,I)}if(k.match(/^\w+$/)){v.marked="def"}return w(I)}function Y(r){if(r=="name"){v.marked="def";return w(Y)}if(r=="{"){return w(s("}"),M,N)}return E()}function t(r){if(r=="name"){v.marked="def";return w(t)}if(k=="<"){return w(S,t)}if(r=="{"){return w(s("}"),M,N)}return E()}function F(r){if(k=="<"){return w(S,F)}if(k=="of"||k=="for"){v.marked="keyword";return w(e,F)}if(r=="name"){v.marked="def";return w(F)}if(r=="{"){return w(s("}"),M,N)}return E()}function S(){if(k==">"){return w()}if(k==","){return w(S)}if(k==":"){return w(e,S)}return E(e,S)}function V(r){if(r=="name"){v.marked="def";return w(V)}if(r==":"){return w(U,e,b)}return E()}function e(r){if(r=="name"){v.marked="variable-3";return w(L)}if(k=="mutable"){v.marked="keyword";return w(e)}if(r=="atom"){return w(L)}if(r=="op"||r=="obj"){return w(e)}if(r=="fn"){return w(g)}if(r=="{"){return w(s("{"),z(e),N)}return Ab(r,e)}function L(){if(k=="<"){return w(S)}return E()}function g(r){if(r=="("){return w(s("("),D(e,")"),N,g)}if(r=="->"){return w(e)}return E()}function d(r){if(r=="name"){v.marked="def";return w(n)}if(r=="atom"){return w(n)}if(r=="op"){return w(d)}if(r.match(/[\]\)\};,]/)){return E()}return Ab(r,d)}function n(r){if(r=="op"&&k=="."){return w()}if(k=="to"){v.marked="keyword";return w(d)}else{return E()}}function x(r){if(r=="{"){return w(s("}","alt"),q,N)}return E()}function q(r){if(r=="}"){return w()}if(r=="|"){return w(q)}if(k=="when"){v.marked="keyword";return w(Q,Aa)}if(r.match(/[\]\);,]/)){return w(q)}return E(d,Aa)}function Aa(r){if(r=="{"){return w(s("}","alt"),M,N,q)}else{return E(q)}}function T(r){if(r.match(/[\[\(\{]/)){return Ab(r,Q)}return E()}function Ab(r,Ac){if(r=="["){return w(s("]"),D(Ac,"]"),N)}if(r=="("){return w(s(")"),D(Ac,")"),N)}if(r=="{"){return w(s("}"),D(Ac,"}"),N)}return w()}function h(Af,Ac,Ad){var r=Af.cc;v.state=Af;v.stream=Ac;v.marked=null,v.cc=r;while(true){var Ae=r.length?r.pop():M;if(Ae(c)){while(r.length&&r[r.length-1].lex){r.pop()()}return v.marked||Ad}}}return{startState:function(){return{tokenize:o,cc:[],lexical:{indented:-X,column:0,type:"top",align:false},keywords:K,indented:0}},token:function(Ad,Ac){if(Ad.sol()){if(!Ac.lexical.hasOwnProperty("align")){Ac.lexical.align=false}Ac.indented=Ad.indentation()}if(Ad.eatSpace()){return null}c=k=null;var r=Ac.tokenize(Ad,Ac);if(r=="comment"){return r}if(!Ac.lexical.hasOwnProperty("align")){Ac.lexical.align=true}if(c=="prefix"){return r}if(!k){k=Ad.current()}return h(Ac,Ad,r)},indent:function(Ag,Ad){if(Ag.tokenize!=o){return 0}var Af=Ad&&Ad.charAt(0),Ae=Ag.lexical,r=Ae.type,Ac=Af==r;if(r=="stat"){return Ae.indented+X}if(Ae.align){return Ae.column+(Ac?0:1)}return Ae.indented+(Ac?0:(Ae.info=="alt"?H:X))},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});A.defineMIME("text/x-rustsrc","rust")});