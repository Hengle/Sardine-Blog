(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(A){A.defineMode("haxe",function(b,N){var Y=b.indentUnit;var H=function(){function Ah(Aj){return{type:Aj,style:"keyword"}}var Ag=Ah("keyword a"),Ae=Ah("keyword b"),Af=Ah("keyword c");var Ad=Ah("operator"),Ab={type:"atom",style:"atom"},Ac={type:"attribute",style:"attribute"};var Ai=Ah("typedef");return{"if":Ag,"while":Ag,"else":Ae,"do":Ae,"try":Ae,"return":Af,"break":Af,"continue":Af,"new":Af,"throw":Af,"var":Ah("var"),"inline":Ac,"static":Ac,"using":Ah("import"),"public":Ac,"private":Ac,"cast":Ah("cast"),"import":Ah("import"),"macro":Ah("macro"),"function":Ah("function"),"catch":Ah("catch"),"untyped":Ah("untyped"),"callback":Ah("cb"),"for":Ah("for"),"switch":Ah("switch"),"case":Ah("case"),"default":Ah("default"),"in":Ad,"never":Ah("property_access"),"trace":Ah("trace"),"class":Ai,"abstract":Ai,"enum":Ai,"interface":Ai,"typedef":Ai,"extends":Ai,"implements":Ai,"dynamic":Ai,"true":Ab,"false":Ab,"null":Ab}}();var a=/[+\-*&%=<>!?|]/;function w(Ad,Ac,Ab){Ac.tokenize=Ab;return Ab(Ad,Ac)}function k(Ae,Ac){var Ab=false,Ad;while((Ad=Ae.next())!=null){if(Ad==Ac&&!Ab){return false}Ab=!Ab&&Ad=="\\"}return Ab}var B,S;function I(Ad,Ac,Ab){B=Ad;S=Ab;return Ac}function y(Af,Ad){var Ac=Af.next();if(Ac=='"'||Ac=="'"){return w(Af,Ad,m(Ac))}else{if(/[\[\]{}\(\),;\:\.]/.test(Ac)){return I(Ac)}else{if(Ac=="0"&&Af.eat(/x/i)){Af.eatWhile(/[\da-f]/i);return I("number","number")}else{if(/\d/.test(Ac)||Ac=="-"&&Af.eat(/\d/)){Af.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return I("number","number")}else{if(Ad.reAllowed&&(Ac=="~"&&Af.eat(/\//))){k(Af,"/");Af.eatWhile(/[gimsu]/);return I("regexp","string-2")}else{if(Ac=="/"){if(Af.eat("*")){return w(Af,Ad,g)}else{if(Af.eat("/")){Af.skipToEnd();return I("comment","comment")}else{Af.eatWhile(a);return I("operator",null,Af.current())}}}else{if(Ac=="#"){Af.skipToEnd();return I("conditional","meta")}else{if(Ac=="@"){Af.eat(/:/);Af.eatWhile(/[\w_]/);return I("metadata","meta")}else{if(a.test(Ac)){Af.eatWhile(a);return I("operator",null,Af.current())}else{var Ae;if(/[A-Z]/.test(Ac)){Af.eatWhile(/[\w_<>]/);Ae=Af.current();return I("type","variable-3",Ae)}else{Af.eatWhile(/[\w_]/);var Ae=Af.current(),Ab=H.propertyIsEnumerable(Ae)&&H[Ae];return(Ab&&Ad.kwAllowed)?I(Ab.type,Ab.style,Ae):I("variable","variable",Ae)}}}}}}}}}}}function m(Ab){return function(Ad,Ac){if(!k(Ad,Ab)){Ac.tokenize=y}return I("string","string")}}function g(Ae,Ac){var Ad=false,Ab;while(Ab=Ae.next()){if(Ab=="/"&&Ad){Ac.tokenize=y;break}Ad=(Ab=="*")}return I("comment","comment")}var u={"atom":true,"number":true,"variable":true,"string":true,"regexp":true};function W(Ag,Af,Ab,Ad,Ac,Ae){this.indented=Ag;this.column=Af;this.type=Ab;this.prev=Ac;this.info=Ae;if(Ad!=null){this.align=Ad}}function L(Ad,Ab){for(var Ac=Ad.localVars;Ac;Ac=Ac.next){if(Ac.name==Ab){return true}}}function P(Ah,Ae,Ab,Af,Ad){var Ac=Ah.cc;n.state=Ah;n.stream=Ad;n.marked=null,n.cc=Ac;if(!Ah.lexical.hasOwnProperty("align")){Ah.lexical.align=true}while(true){var Ag=Ac.length?Ac.pop():V;if(Ag(Ab,Af)){while(Ac.length&&Ac[Ac.length-1].lex){Ac.pop()()}if(n.marked){return n.marked}if(Ab=="variable"&&L(Ah,Af)){return"variable-2"}if(Ab=="variable"&&T(Ah,Af)){return"variable-3"}return Ae}}}function T(Ae,Ac){if(/[a-z]/.test(Ac.charAt(0))){return false}var Ad=Ae.importedtypes.length;for(var Ab=0;Ab<Ad;Ab++){if(Ae.importedtypes[Ab]==Ac){return true}}}function f(Ab){var Ad=n.state;for(var Ac=Ad.importedtypes;Ac;Ac=Ac.next){if(Ac.name==Ab){return}}Ad.importedtypes={name:Ab,next:Ad.importedtypes}}var n={state:null,column:null,marked:null,cc:null};function E(){for(var Ab=arguments.length-1;Ab>=0;Ab--){n.cc.push(arguments[Ab])}}function x(){E.apply(null,arguments);return true}function c(Ab){var Ad=n.state;if(Ad.context){n.marked="def";for(var Ac=Ad.localVars;Ac;Ac=Ac.next){if(Ac.name==Ab){return}}Ad.localVars={name:Ab,next:Ad.localVars}}}var R={name:"this",next:null};function t(){if(!n.state.context){n.state.localVars=R}n.state.context={prev:n.state.context,vars:n.state.localVars}}function j(){n.state.localVars=n.state.context.vars;n.state.context=n.state.context.prev}function s(Ab,Ad){var Ac=function(){var Ae=n.state;Ae.lexical=new W(Ae.indented,n.stream.column(),Ab,null,Ae.lexical,Ad)};Ac.lex=true;return Ac}function Q(){var Ab=n.state;if(Ab.lexical.prev){if(Ab.lexical.type==")"){Ab.indented=Ab.lexical.indented}Ab.lexical=Ab.lexical.prev}}Q.lex=true;function r(Ab){function Ac(Ad){if(Ad==Ab){return x()}else{if(Ab==";"){return E()}else{return x(Ac)}}}return Ac}function V(Ab){if(Ab=="@"){return x(o)}if(Ab=="var"){return x(s("vardef"),e,r(";"),Q)}if(Ab=="keyword a"){return x(s("form"),U,V,Q)}if(Ab=="keyword b"){return x(s("form"),V,Q)}if(Ab=="{"){return x(s("}"),t,X,Q,j)}if(Ab==";"){return x()}if(Ab=="attribute"){return x(l)}if(Ab=="function"){return x(G)}if(Ab=="for"){return x(s("form"),r("("),s(")"),F,r(")"),Q,V,Q)}if(Ab=="variable"){return x(s("stat"),C)}if(Ab=="switch"){return x(s("form"),U,s("}","switch"),r("{"),X,Q,Q)}if(Ab=="case"){return x(U,r(":"))}if(Ab=="default"){return x(r(":"))}if(Ab=="catch"){return x(s("form"),t,r("("),d,r(")"),V,Q,j)}if(Ab=="import"){return x(J,r(";"))}if(Ab=="typedef"){return x(h)}return E(s("stat"),U,r(";"),Q)}function U(Ab){if(u.hasOwnProperty(Ab)){return x(q)}if(Ab=="function"){return x(G)}if(Ab=="keyword c"){return x(i)}if(Ab=="("){return x(s(")"),i,r(")"),Q,q)}if(Ab=="operator"){return x(U)}if(Ab=="["){return x(s("]"),K(U,"]"),Q,q)}if(Ab=="{"){return x(s("}"),K(D,"}"),Q,q)}return x()}function i(Ab){if(Ab.match(/[;\}\)\],]/)){return E()}return E(U)}function q(Ab,Ac){if(Ab=="operator"&&/\+\+|--/.test(Ac)){return x(q)}if(Ab=="operator"||Ab==":"){return x(U)}if(Ab==";"){return}if(Ab=="("){return x(s(")"),K(U,")"),Q,q)}if(Ab=="."){return x(p,q)}if(Ab=="["){return x(s("]"),U,r("]"),Q,q)}}function l(Ab){if(Ab=="attribute"){return x(l)}if(Ab=="function"){return x(G)}if(Ab=="var"){return x(e)}}function o(Ab){if(Ab==":"){return x(o)}if(Ab=="variable"){return x(o)}if(Ab=="("){return x(s(")"),K(M,")"),Q,V)}}function M(Ab){if(Ab=="variable"){return x()}}function J(Ab,Ac){if(Ab=="variable"&&/[A-Z]/.test(Ac.charAt(0))){f(Ac);return x()}else{if(Ab=="variable"||Ab=="property"||Ab=="."||Ac=="*"){return x(J)}}}function h(Ab,Ac){if(Ab=="variable"&&/[A-Z]/.test(Ac.charAt(0))){f(Ac);return x()}else{if(Ab=="type"&&/[A-Z]/.test(Ac.charAt(0))){return x()}}}function C(Ab){if(Ab==":"){return x(Q,V)}return E(q,r(";"),Q)}function p(Ab){if(Ab=="variable"){n.marked="property";return x()}}function D(Ab){if(Ab=="variable"){n.marked="property"}if(u.hasOwnProperty(Ab)){return x(r(":"),U)}}function K(Ad,Ac){function Ab(Ae){if(Ae==","){return x(Ad,Ab)}if(Ae==Ac){return x()}return x(r(Ac))}return function(Ae){if(Ae==Ac){return x()}else{return E(Ad,Ab)}}}function X(Ab){if(Ab=="}"){return x()}return E(V,X)}function e(Ab,Ac){if(Ab=="variable"){c(Ac);return x(Aa,v)}return x()}function v(Ab,Ac){if(Ac=="="){return x(U,v)}if(Ab==","){return x(e)}}function F(Ab,Ac){if(Ab=="variable"){c(Ac)}return x(s(")"),t,O,U,Q,V,j)}function O(Ab,Ac){if(Ac=="in"){return x()}}function G(Ab,Ac){if(Ab=="variable"){c(Ac);return x(G)}if(Ac=="new"){return x(G)}if(Ab=="("){return x(s(")"),t,K(d,")"),Q,Aa,V,j)}}function Aa(Ab){if(Ab==":"){return x(z)}}function z(Ab){if(Ab=="type"){return x()}if(Ab=="variable"){return x()}if(Ab=="{"){return x(s("}"),K(Z,"}"),Q)}}function Z(Ab){if(Ab=="variable"){return x(Aa)}}function d(Ab,Ac){if(Ab=="variable"){c(Ac);return x(Aa)}}return{startState:function(Ab){var Ac=["Int","Float","String","Void","Std","Bool","Dynamic","Array"];return{tokenize:y,reAllowed:true,kwAllowed:true,cc:[],lexical:new W((Ab||0)-Y,0,"block",false),localVars:N.localVars,importedtypes:Ac,context:N.localVars&&{vars:N.localVars},indented:0}},token:function(Ad,Ac){if(Ad.sol()){if(!Ac.lexical.hasOwnProperty("align")){Ac.lexical.align=false}Ac.indented=Ad.indentation()}if(Ad.eatSpace()){return null}var Ab=Ac.tokenize(Ad,Ac);if(B=="comment"){return Ab}Ac.reAllowed=!!(B=="operator"||B=="keyword c"||B.match(/^[\[{}\(,;:]$/));Ac.kwAllowed=B!=".";return P(Ac,Ab,B,S,Ad)},indent:function(Ag,Ad){if(Ag.tokenize!=y){return 0}var Af=Ad&&Ad.charAt(0),Ae=Ag.lexical;if(Ae.type=="stat"&&Af=="}"){Ae=Ae.prev}var Ab=Ae.type,Ac=Af==Ab;if(Ab=="vardef"){return Ae.indented+4}else{if(Ab=="form"&&Af=="{"){return Ae.indented}else{if(Ab=="stat"||Ab=="form"){return Ae.indented+Y}else{if(Ae.info=="switch"&&!Ac){return Ae.indented+(/^(?:case|default)\b/.test(Ad)?Y:2*Y)}else{if(Ae.align){return Ae.column+(Ac?0:1)}else{return Ae.indented+(Ac?0:Y)}}}}}},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});A.defineMIME("text/x-haxe","haxe");A.defineMode("hxml",function(){return{startState:function(){return{define:false,inString:false}},token:function(F,E){var D=F.peek();var B=F.sol();if(D=="#"){F.skipToEnd();return"comment"}if(B&&D=="-"){var C="variable-2";F.eat(/-/);if(F.peek()=="-"){F.eat(/-/);C="keyword a"}if(F.peek()=="D"){F.eat(/[D]/);C="keyword c";E.define=true}F.eatWhile(/[A-Z]/i);return C}var D=F.peek();if(E.inString==false&&D=="'"){E.inString=true;D=F.next()}if(E.inString==true){if(F.skipTo("'")){}else{F.skipToEnd()}if(F.peek()=="'"){F.next();E.inString=false}return"string"}F.next();return null},lineComment:"#"}});A.defineMIME("text/x-hxml","hxml")});