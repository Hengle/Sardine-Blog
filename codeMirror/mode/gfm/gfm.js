(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"),require("../markdown/markdown"),require("../../addon/mode/overlay"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],A)}else{A(CodeMirror)}}})(function(A){A.defineMode("gfm",function(B,G){var F=0;function E(I){I.code=false;return null}var D={startState:function(){return{code:false,codeBlock:false,ateSpace:false}},copyState:function(I){return{code:I.code,codeBlock:I.codeBlock,ateSpace:I.ateSpace}},token:function(L,K){K.combineTokens=null;if(K.codeBlock){if(L.match(/^```/)){K.codeBlock=false;return null}L.skipToEnd();return null}if(L.sol()){K.code=false}if(L.sol()&&L.match(/^```/)){L.skipToEnd();K.codeBlock=true;return null}if(L.peek()==="`"){L.next();var J=L.pos;L.eatWhile("`");var I=1+L.pos-J;if(!K.code){F=I;K.code=true}else{if(I===F){K.code=false}}return null}else{if(K.code){L.next();return null}}if(L.eatSpace()){K.ateSpace=true;return null}if(L.sol()||K.ateSpace){K.ateSpace=false;if(L.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/)){K.combineTokens=true;return"link"}else{if(L.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)){K.combineTokens=true;return"link"}}}if(L.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i)&&L.string.slice(L.start-2,L.start)!="]("){K.combineTokens=true;return"link"}L.next();return null},blankLine:E};var C={underscoresBreakWords:false,taskLists:true,fencedCodeBlocks:true,strikethrough:true};for(var H in G){C[H]=G[H]}C.name="markdown";return A.overlayMode(A.getMode(B,C),D)},"markdown");A.defineMIME("text/x-gfm","gfm")});